<!DOCTYPE html>
<html lang="Ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•´ë§ˆ í‚¤ìš°ê¸°</title>

    <!-- reset css -->
    <link rel="stylesheet" href="/common/css/common.css">

    <!-- tap ì•„ì´ì½˜ ì´ë¯¸ì§€ -->
    <link rel="icon" href="/main/img/document.png" />
    <link rel="apple-touch-icon" href="/main/img/document.png" />

    <!-- css -->
    <link rel="stylesheet" href="/index-header.css">
    <link rel="stylesheet" href="/index-body.css">
    <link rel="stylesheet" href="/baseball/css/index-baseball.css">
    <link rel="stylesheet" href="/index-footer.css">
    <link rel="stylesheet" href="/index-name-input/index-login.css">
    <link rel="stylesheet" href="/index-name-input/index-body-main-game.css">
    <link rel="stylesheet" href="/main-result-button/main-result-btn.css">

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">

    <!-- js -->
    <link href="/index-banner/index-banner.js">
    <link href="/index-banner/index-banner.css">



</head>

<body>
    <div id="wrraper">
        <header id="header">
            <div class="contains">
                <div class="title-img">
                    <div class="img1"></div>
                    <div class="img2"></div>
                </div>
                <div class="title">
                    <h1><em id="green">ê¸°ì–µë ¥</em> ê²Œì„ìœ¼ë¡œ<br>
                        ë‚´ ì•ˆì˜ <em>í•´ë§ˆ</em> í‚¤ìš°ê¸°
                    </h1>
                    <div id="logoImage"></div>
                </div>
                <div class="sub-img">
                </div>
            </div>
        </header>

        <!-- main body ì‹œì‘-->
        <div id="main">
            <!-- banner 1 begin-->
            <div class="banner1" id="left-banner">
            </div>
            <!-- banner 1 end-->
            <div class="contains">
                <div class="contents">
                    <!-- index login finish -->
                    <div class="main-game">
                        <div class="game-nav">
                            <ul class="nav">

                                <div class="side">
                                    <div id="baseball-logo" class="round">
                                        <div class="img">

                                        </div>
                                    </div>
                                    <h2 class="history">ğŸ¯ ê²°ê³¼ ë‚´ì—­</h2>
                                    <ul id="score-info" class="score-info">
                                    </ul>
                                </div>

                                <div class="title">
                                    <ul id="input-view" class="input">
                                    </ul>
                                    <ul class="result">
                                        <li>ğŸ¥‡ &nbsp; ğŸ¥ˆ &nbsp; ğŸ¥‰</li>
                                    </ul>

                                    <ul class="box">
                                        <li class="btn">
                                            <button id="result-btn" class="common-btn"></button>
                                        </li>
                                        <li class="img"></li>
                                        <li class="btn">
                                            <button id="reset-btn" class="common-btn"></button>
                                        </li>
                                    </ul>

                                    <ul id="input-btn-box" class="input-btn">
                                    </ul>
                                </div>

                                <div class="btn-box">
                                    <div class="back-btn">
                                        <a href="index.html"></a>
                                    </div>
                                    <div class="start-btn">
                                        <a href="#">start-btn</a>
                                    </div>
                                </div>
                            </ul>
                        </div>

                        <div class="game-nav-sub">
                            <ul class="nav-sub">
                                <li class="btn">
                                    <button class="start-btn start-btn">
                                        <span>í´ë¦­!</span><span>ê²°ê³¼ í™•ì¸</span>
                                    </button>
                                </li>
                                <li class="btn">
                                    <button class="start-btn info-btn">
                                        <span>í´ë¦­!</span><span>ê²Œì„ì„¤ëª…</span>
                                    </button>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
            <div class="banner2">
            </div>
        </div>

        <!-- footer ì‹œì‘ -->
        <footer id="footer">
            <div class="contains">
                <div class="title">
                    <ul class="nav">
                        <li class="game card">
                            <div class="box">
                                <div class="img img1"><a href="#" class="common"></a></div>
                                <h3 class="sub-title">ì¹´ë“œ<span>ì´ 20ê°œì˜ ì¹´ë“œë¥¼<br>ê¸°ì–µí•´ë³´ì</span></h3>
                                <div class="info info1">
                                    <div class="info-back">ê¸€ì„? í•´ë§ˆëŠ” ì¶©ë¶„íˆ<br>í‚¤ì› ëŠ”ê°€?<br>ìƒ‰ê¹”ì„ ë³´ë©´ ì•Œ ìˆ˜ ìˆì§€!<br>ì»¬ëŸ¬í’€í•œê²Œ ìœ í–‰ì´ì•¼
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="game baseball">
                            <div class="box">
                                <div class="img img2"><a href="#" class="common"></a></div>
                                <h3 class="sub-title">ì•¼êµ¬<span>ì´ 7ë‹¨ê³„ì˜<br>ìˆ«ì ì•¼êµ¬ ê²Œì„!!</span></h3>
                                <div class="info info2">
                                    <div class="info-back">ì • ì–´ë µë‹¤ë©´.. ìˆ«ì 1ê°œì”©ë§Œ<br>ì„ íƒí•´ì„œ ì…ë ¥í•´ë´..<br>ì „ëµì„ ì˜ ì„¸ìš°ë¼êµ¬!<br>ë‚˜ë¨¸ì§„ ë„ˆì˜ í•´ë§ˆë¥¼
                                        ë¯¿ì–´ë´
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="game bridge">
                            <div class="box">
                                <div class="img img3"><a href="#" class="common"></a></div>
                                <h3 class="sub-title">ë‹¤ë¦¬<span>ì‹œê°„ ì œí•œì—†ëŠ”<br>ê¸°ì–µë ¥ ê²Œì„!</span></h3>
                                <div class="info info3">
                                    <div class="info-back">ì¬ë°Œì—ˆë‹¤ë©´ ëŒì•„ê°€ê¸° ì „ì—<br>ê´‘ê³  í•œ ë²ˆë§Œ í´ë¦­í•´ì¤˜ ğŸ‘‰<br>í˜¹ì‹œ ì¿ íŒ¡ì—ì„œ í•„ìš”í•œ ê±´<br>ì—†ê³ ?
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>

                </div>


                <div class="gnb">
                    <div class="help">
                        <div class="title">
                            <ul class="nav">
                                <li class="info">
                                    <a href="#" class="menu img1"></a>
                                    <div class="back-img back-img1">010-1234-1234</div>
                                </li>

                                <li class="info">
                                    <a href="#" class="menu img2"></a>
                                    <div class="back-img back-img2">my@mg.com</div>
                                </li>

                                <li class="info">
                                    <a href="#" class="menu img3"></a>
                                    <div class="back-img back-img3">@memory-game</div>
                                </li>
                                <li class="info">
                                    <a href="#" class="menu img4"></a>
                                    <div class="back-img back-img4">@memory-game</div>
                                </li>
                                <li class="info">
                                    <a href="#" class="menu img5"></a>
                                    <div class="back-img back-img5">memory.com</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <h3 class="copy-right">Â© 2023. 03 Memory-Project</h3>
            </div>
        </footer>
        <!-- footer ë -->
    </div>


    <!--  -->

    <script>
        // <--------------------------- gameData setup ---------------------------> //
        const gameData = {
            result: [], // ì •ë‹µ ë°°ì—´
            inputNumbers: [], // ìœ ì €ê°€ ì…ë ¥í•œ ìˆ«ìë“¤ì„ ëª¨ì„ ë°°ì—´
            ignoreNumbers: [], // 0ë³¼ 0ìŠ¤íŠ¸ë¼ì´í¬ì¸ ìˆ«ì ì œì™¸ì‹œí‚¤ê¸°
            round: 3, // ë¼ìš´ë“œ
            strike: 0, // ìŠ¤íŠ¸ë¼ì´í¬
            ball: 0, // ë³¼
            input: 0, // ìœ ì €ê°€ ì…ë ¥í•œ ìˆ«ì
            clearRound: 0, // í´ë¦¬ì–´í•œ ë¼ìš´ë“œ
            maxRound: 8,
        }

        const $inputView = document.getElementById('input-view'); // ìœ ì €ê°€ ì…ë ¥í•œ ê°’ì„ ë„ì›Œì£¼ëŠ” ë¶€ëª¨
        const $inputBtnBox = document.getElementById('input-btn-box'); // ìœ ì €ê°€ ëˆ„ë¥´ëŠ” ë²„íŠ¼ë“¤ì˜ ë¶€ëª¨
        const $resultBtn = document.getElementById('result-btn');
        const $scoreInfo = document.getElementById('score-info');
        const $resetBtn = document.getElementById('reset-btn');

        // 0 ì´ìƒ 10 ë¯¸ë§Œì˜ ë‚œìˆ˜ ìƒì„±
        function getRandomNumber() {
            return Math.floor(Math.random() * 10);
        }

        // gameData.result ë°°ì—´ì— ê°’ì„ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
        function makeResult() {
            if (gameData.clearRound === gameData.maxRound) {
                $inputBtnBox.setAttribute('id', 'hide');
                $inputView.setAttribute('id', 'hide');
                $resultBtn.setAttribute('id', 'hide');
                $scoreInfo.setAttribute('id', 'hide');
                $resetBtn.setAttribute('id', 'hide');
                return;
            }

            gameData.result = [];
            while (gameData.result.length < gameData.round) {
                const number = +getRandomNumber();
                if (!gameData.result.includes(number)) {
                    gameData.result.push(number);
                }
            }
        }

        // gameData.result ì…‹ì—…
        makeResult();
        console.log(gameData.result);

        // <--------------------------- gameData setup ---------------------------> //

        // <--------------------------- tagë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ---------------------------> //

        // íƒœê·¸ë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜
        function childTag($tagName) {
            return document.createElement($tagName);
        }

        // ë¶€ëª¨ íƒœê·¸ì˜ ìì‹ íƒœê·¸ë¡œ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
        function inputTag($parent, $tagName) {
            $parent.appendChild($tagName);
        }

        // íƒœê·¸ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
        function makeNewTag({
            $parent,
            $tagName,
        }) {
            inputTag($parent, childTag($tagName));
        }

        // <--------------------------- tagë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ---------------------------> //



        // <--------------------------- input-btn ì„ ëˆŒë €ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ ---------------------------> //


        // 2. gameData.inputNumbers ë°°ì—´ì— ê°’ì„ êº¼ë‚´ì„œ input-view ìì‹íƒœê·¸ë¡œ ì¶”ê°€í•˜ê¸°.
        function viewNumbers() {
            const $newTag = childTag('li');
            $newTag.textContent = gameData.input;
            inputTag($inputView, $newTag);
        }


        // <--------------------------- input-btn-box ë²„íŠ¼ ìƒì„± ---------------------------> //

        function setInputBtn() {

            for (let i = 0; i < 10; i++) {

                const $newTag = document.createElement('li');

                $newTag.setAttribute('id', `input-btn${i}`);
                $newTag.setAttribute('class', 'btn');
                $newTag.textContent = i;

                // 0. í´ë¦­í•˜ë©´ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜
                $newTag.addEventListener('click', () => {
                    $newTag.setAttribute('id', 'hide');
                });


                // 1. gameData.inputNumbers ë°°ì—´ì— ê°’ ì¶”ê°€í•˜ê¸°
                $newTag.addEventListener('click', () => {
                    gameData.inputNumbers.push(+$newTag.textContent);
                    gameData.input = +$newTag.textContent;
                });


                // 2. gameData.inputNumbers ë°°ì—´ì— ê°’ì„ êº¼ë‚´ì„œ input-view ìì‹íƒœê·¸ë¡œ ì¶”ê°€í•˜ê¸°.
                $newTag.addEventListener('click', viewNumbers);

                // 0ë³¼ 0ìŠ¤íŠ¸ë¼ì´í¬ë©´ ì œì™¸í•˜ê¸°
                if (gameData.ignoreNumbers.includes(i)) {
                    $newTag.setAttribute('id', 'hide');
                }

                inputTag($inputBtnBox, $newTag);
            }

        }

        setInputBtn();

        // <--------------------------- result-btn ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬ ---------------------------> //

        // 0. ë²„íŠ¼ì„ ì´ˆê¸°í™” í•œë‹¤.
        function reset() {
            // btn ë“¤ì„ ì´ˆê¸°í™” í•œë‹¤.
            $inputView.replaceChildren();
            $inputBtnBox.replaceChildren();
            setInputBtn();

            // gameData ì´ˆê¸°í™”
            gameData.input = 0;
            gameData.inputNumbers = [];
            gameData.strike = 0;
            gameData.ball = 0;
            gameData.input = 0;
        }

        // 1. info ì— ê°’ ì¶œë ¥í•˜ê¸°
        function viewInfoScore() {
            checkResult();

            const $scoreTag = document.createElement('li');
            let $inputNumbers = 'âš¾ï¸';

            gameData.inputNumbers.forEach($number => {
                $inputNumbers += ` ${$number} `;
            });

            $inputNumbers += `ğŸ‘‰ ${gameData.strike}ìŠ¤íŠ¸ë¼ì´í¬! ${gameData.ball}ë³¼!`;
            $scoreTag.textContent = $inputNumbers;

            $scoreInfo.prepend($scoreTag);
            roundUp();
        }

        // 1-1. ê²°ê³¼ ë¹„êµí•˜ê¸°
        function checkResult() {
            const list = gameData.inputNumbers;
            const result = gameData.result;

            for (let i = 0; i < list.length; i++) {
                const number = list[i];

                if (result.includes(number)) {
                    if (result[i] === number) {
                        gameData.strike++;
                    } else {
                        gameData.ball++;
                    }
                }
            }

            if (gameData.strike === 0 && gameData.ball === 0) {
                list.forEach($number => {
                    gameData.ignoreNumbers.push($number);
                })
            }
        }

        $resultBtn.addEventListener('click', viewInfoScore);
        $resultBtn.addEventListener('click', reset);
        $resultBtn.addEventListener('click', roundUp);

        $resetBtn.addEventListener('click', reset);

        // <--------------------------- result-btn ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬ ---------------------------> //

        // 2. ì •ë‹µì„ ë§ì·„ì„ ê²½ìš° round level up ì‹œí‚¤ê¸°
        function roundUp() {
            if (gameData.strike === gameData.round) {
                gameData.clearRound++;
                gameData.round++;
                gameData.ignoreNumbers = [];

                $scoreInfo.replaceChildren();

                reset();
                makeResult();

                const $baseballLogo = document.querySelector('#baseball-logo .img');

                switch (gameData.clearRound) {
                    case 1:
                        $baseballLogo.style.backgroundImage = "url('/baseball/img/round2.png')"
                        $baseballLogo.style.backgroundSize = "30%";

                        break;
                    case 2:
                        $baseballLogo.style.backgroundImage = "url('/baseball/img/round3.png')"
                        $baseballLogo.style.backgroundSize = "40%";
                        break;
                    case 3:
                        $baseballLogo.style.backgroundImage = "url('/baseball/img/round4.png')"
                        $baseballLogo.style.backgroundSize = "50%";
                        break;
                }

            }
        }
    </script>

</body>

</html>